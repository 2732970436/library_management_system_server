(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b0abd1b"],{"0b7e":function(e,t,a){"use strict";a("8e48")},"73cf":function(e,t,a){"use strict";a.r(t);a("d9e2");var l=a("7a23"),o=a("6968"),r=a("bc3a"),c=a.n(r),n=a("b7fb");function s(e){return c.a.post(n["a"]+"/apis/api/enroll",{account:e.account,password:e.password,role:e.type,email:e.email})}var d=a("3ef4"),u=a("afbc");const i=e=>(Object(l["pushScopeId"])("data-v-4e7584ec"),e=e(),Object(l["popScopeId"])(),e),b=i(()=>Object(l["createElementVNode"])("div",{style:{margin:"20px"}},null,-1)),p={class:"register_warp"};var m=Object(l["defineComponent"])({__name:"Register",setup(e){const t=Object(l["ref"])("right"),a=Object(l["reactive"])({account:"",password:"",type:"Student",ensurePassword:"",email:""}),r=Object(l["ref"])(!1),c=Object(l["ref"])(!1),n=Object(l["ref"])(!1),i=Object(l["ref"])(!0),m=Object(l["ref"])(!1),j=(e,t,a)=>{t.match("^[a-zA-Z]+$")?t.length<6?(r.value=!1,a(new Error("please input more than six letter"))):(r.value=!0,a()):(r.value=!1,a(new Error("Please Input Letter")))},w=(e,t,a)=>{t.match("^[0-9A-Za-z]+$")?t.length<6?(c.value=!1,a(new Error("passwrod length must greater than six"))):(c.value=!0,a()):(c.value=!1,a(new Error("content must contain only letter or digital")))},O=(e,t,l)=>{t===a.password?(n.value=!0,l()):(n.value=!1,l("Not the same as password"))},v=(e,t,a)=>{let l=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;t.match(l)?(i.value=!0,a()):t?(i.value=!1,a(new Error("The email format is wrong"))):(i.value=!0,a())},g=Object(l["reactive"])({account:[{validator:j,trigger:"blur"}],password:[{validator:w,trigger:"blur"}],ensurePassword:[{validator:O,trigger:"blur"}],email:[{validator:v,trigger:"blur"}]}),V=[{value:"Student",label:"Student"},{value:"Admin",label:"Admin"}],h=()=>{s(a).then(e=>{const t=e.data.err_code;switch(console.log(e),t){case 200:Object(d["a"])({message:e.data.message,type:"success"}),window.localStorage.setItem("token",e.data.token),"Student"===a.type?u["a"].replace("/student"):"Admin"===a.type&&u["a"].replace("/admin");break;default:Object(d["a"])({message:e.data.message,type:"warning"})}}).catch(e=>{Object(d["a"])({message:"服务器没开 去开了",type:"error"})})},f=()=>{r.value&&c.value&&n.value&&i.value?m.value=!0:m.value=!1};return(e,r)=>{const c=Object(l["resolveComponent"])("el-radio-group"),n=Object(l["resolveComponent"])("el-input"),s=Object(l["resolveComponent"])("el-form-item"),d=Object(l["resolveComponent"])("el-option"),u=Object(l["resolveComponent"])("el-select"),i=Object(l["resolveComponent"])("el-button"),j=Object(l["resolveComponent"])("el-form");return Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,[Object(l["createVNode"])(o["a"],{title:"Register"}),Object(l["createVNode"])(c,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),label:"label position"},null,8,["modelValue"]),b,Object(l["createElementVNode"])("div",p,[Object(l["createVNode"])(j,{"label-position":t.value,"label-width":"100px",model:a,style:{"max-width":"460px"},rules:g,onValidate:f},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(s,{label:"Account",prop:"account"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(n,{modelValue:a.account,"onUpdate:modelValue":r[1]||(r[1]=e=>a.account=e),maxlength:"18",minlength:"6",clearable:"",class:"input_item"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(s,{label:"Password",prop:"password"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(n,{modelValue:a.password,"onUpdate:modelValue":r[2]||(r[2]=e=>a.password=e),type:"password",maxlength:"18",minlength:"6",clearable:"",class:"input_item"},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(s,{label:"ConfirmPassword",prop:"ensurePassword"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(n,{type:"password",modelValue:a.ensurePassword,"onUpdate:modelValue":r[3]||(r[3]=e=>a.ensurePassword=e),clearable:""},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(s,{label:"Email",prop:"email"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(n,{modelValue:a.email,"onUpdate:modelValue":r[4]||(r[4]=e=>a.email=e),placeholder:"You can choose not to fill in this field",clearable:""},null,8,["modelValue"])]),_:1}),Object(l["createVNode"])(s,{label:"Identity"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(u,{modelValue:a.type,"onUpdate:modelValue":r[5]||(r[5]=e=>a.type=e),class:"select",placeholder:"choose your identity",size:"large","collapse-tags":!0},{default:Object(l["withCtx"])(()=>[(Object(l["openBlock"])(),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(V,e=>Object(l["createVNode"])(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),Object(l["createVNode"])(i,{type:"primary",onClick:r[6]||(r[6]=e=>h()),disabled:!m.value},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("Register")]),_:1},8,["disabled"])]),_:1},8,["label-position","model","rules"])])],64)}}}),j=(a("0b7e"),a("6b0d")),w=a.n(j);const O=w()(m,[["__scopeId","data-v-4e7584ec"]]);t["default"]=O},"8e48":function(e,t,a){}}]);
//# sourceMappingURL=chunk-7b0abd1b.1b12b504.js.map